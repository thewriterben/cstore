# ============================================
# CRYPTONS.COM ENVIRONMENT CONFIGURATION
# ============================================
# ⚠️ SECURITY WARNING: Never commit .env files to version control
# ⚠️ PRODUCTION: Change ALL default values before deployment
# ⚠️ Use secrets management (Vault, AWS Secrets Manager) in production

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3000
NODE_ENV=development
APP_URL=http://localhost:3000
DEFAULT_LANGUAGE=en

# ============================================
# DATABASE CONFIGURATION
# ============================================
# MongoDB Connection String
# PRODUCTION: Use authentication, TLS, and replica sets
# Example with auth: mongodb://username:password@host:27017/cryptons?authSource=admin&tls=true
MONGODB_URI=mongodb://localhost:27017/cryptons

# Database User (if using authentication)
MONGODB_USER=
MONGODB_PASSWORD=

# ============================================
# JWT AUTHENTICATION
# ============================================
# ⚠️ CRITICAL: Generate strong random secrets (minimum 32 characters)
# Generate with: openssl rand -hex 32
# NEVER use default values in production
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_EXPIRE=7d
JWT_REFRESH_SECRET=your-super-secret-refresh-jwt-key-change-in-production-min-32-chars
JWT_REFRESH_EXPIRE=30d

# Email Configuration (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_NAME=Cryptons
SMTP_FROM_EMAIL=noreply@cryptons.com
ADMIN_EMAIL=admin@cryptons.com

# Cryptocurrency Wallet Addresses (Replace with your own)
BTC_ADDRESS=bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh
ETH_ADDRESS=0x742d35Cc6634C0532925a3b844Bc454e4438f44e
USDT_ADDRESS=0x742d35Cc6634C0532925a3b844Bc454e4438f44e
LTC_ADDRESS=ltc1qxy2kgdygjrsqtzq2n0yrf2493p83kkf0000000
XRP_ADDRESS=rN7n7otQDd6FczFgLdlqtyMVrn3HMfXEZv

# ============================================
# BLOCKCHAIN CONFIGURATION
# ============================================
# Verify blockchain transactions (set to true in production)
VERIFY_BLOCKCHAIN=false

# RPC Endpoints for blockchain verification
ETH_RPC_URL=https://eth.llamarpc.com
BTC_RPC_URL=https://blockchain.info

# Payment Webhook Configuration
PAYMENT_WEBHOOK_URL=
# ⚠️ CRITICAL: Generate strong webhook secret
# Generate with: openssl rand -hex 64
WEBHOOK_SECRET=generate-64-char-hex-string-for-webhook-verification

# Bitcoin Core RPC Configuration (Optional - for direct Bitcoin Core integration)
BTC_RPC_HOST=localhost
BTC_RPC_PORT=8332
BTC_RPC_USER=
BTC_RPC_PASSWORD=
BTC_NETWORK=mainnet

# Lightning Network Configuration (Optional - for Lightning Network integration)
LND_SOCKET=localhost:10009
LND_MACAROON=
LND_CERT=

# Logging
LOG_LEVEL=info

# Data Seeding
SEED_DATA=true

# ============================================
# CORS CONFIGURATION (CRITICAL FOR PRODUCTION)
# ============================================
# Comma-separated list of allowed origins
# DEVELOPMENT: localhost origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
# PRODUCTION: Use specific domains only, NO wildcards
# ALLOWED_ORIGINS=https://cryptons.com,https://www.cryptons.com,https://app.cryptons.com

CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# ============================================
# REDIS CONFIGURATION (for JWT token revocation)
# ============================================
# Required for production JWT token revocation
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
JWT_BLACKLIST_TTL=86400

# Skip webhook verification in development (NOT for production)
SKIP_WEBHOOK_VERIFICATION=false
WEBHOOK_TOLERANCE=300

# Block requests without origin header in production CORS
CORS_BLOCK_NO_ORIGIN=false

# ============================================
# SECRETS MANAGEMENT (Production)
# ============================================
# Secrets provider: vault, aws, or env (default)
SECRETS_PROVIDER=env
SECRETS_CACHE_TTL=3600

# HashiCorp Vault configuration
VAULT_ENABLED=false
VAULT_ADDR=https://vault.cryptons.com:8200
VAULT_URL=https://vault.cryptons.com:8200
VAULT_ROLE_ID=
VAULT_SECRET_ID=
VAULT_TOKEN=

# AWS Secrets Manager configuration
AWS_SECRETS_ENABLED=false
AWS_SECRETS_REGION=us-east-1

# ============================================
# DATABASE ENCRYPTION
# ============================================
# Enable MongoDB encryption at rest (Enterprise only)
MONGODB_ENCRYPTION_ENABLED=false
MONGODB_ENCRYPTION_KEY_FILE=/etc/mongodb/mongodb-keyfile
MONGODB_ENCRYPTION_CIPHER=AES256-GCM

# Field-level encryption key (64-character hex string)
# Generate with: openssl rand -hex 32
FIELD_ENCRYPTION_KEY=
ENABLE_FIELD_ENCRYPTION=false

# TLS/SSL for database connections (REQUIRED for production)
MONGODB_TLS_ENABLED=false
MONGODB_TLS_CA_FILE=/etc/mongodb/ca.pem
MONGODB_TLS_CERT_FILE=/etc/mongodb/mongodb-cert.pem

# ============================================
# ELASTICSEARCH CONFIGURATION (Optional)
# ============================================
ELASTICSEARCH_ENABLED=false
ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# ============================================
# PRINTIFY POD INTEGRATION (Optional)
# ============================================
# Enable Printify print-on-demand integration
PRINTIFY_ENABLED=false
# Printify API Token (get from https://printify.com/app/account/api)
PRINTIFY_API_TOKEN=
# Printify Shop ID
PRINTIFY_SHOP_ID=
# Printify Webhook Secret for signature verification
# Generate with: openssl rand -hex 32
PRINTIFY_WEBHOOK_SECRET=
# Printify auto-submit orders to production
PRINTIFY_AUTO_SUBMIT=false
# Printify auto-sync products
PRINTIFY_AUTO_SYNC=false
# Printify payment method (stripe, paypal)
PRINTIFY_PAYMENT_METHOD=stripe

# ============================================
# CRYPTOCURRENCY EXCHANGE INTEGRATION
# ============================================
# Exchange API Keys for crypto-to-fiat conversions

# Coinbase Advanced Trade API
COINBASE_ENABLED=false
COINBASE_API_KEY=
COINBASE_API_SECRET=

# Kraken API
KRAKEN_ENABLED=false
KRAKEN_API_KEY=
KRAKEN_API_SECRET=

# Binance API
BINANCE_ENABLED=false
BINANCE_API_KEY=
BINANCE_API_SECRET=

# ============================================
# PAYMENT GATEWAY INTEGRATION
# ============================================
# Stripe for automated Printify payments
STRIPE_ENABLED=false
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_CONNECT_ACCOUNT_ID=

# PayPal Business API (backup payment method)
PAYPAL_ENABLED=false
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_MODE=sandbox

# ============================================
# CRYPTO-TO-FIAT CONVERSION SETTINGS
# ============================================
# Minimum conversion amount in USD
MIN_CONVERSION_AMOUNT=10
# Maximum conversion amount in USD
MAX_CONVERSION_AMOUNT=10000
# Auto-approval limit (conversions below this don't need approval)
AUTO_APPROVAL_LIMIT=1000
# Daily user conversion limit
DAILY_USER_CONVERSION_LIMIT=50000
# Daily total conversion limit
DAILY_TOTAL_CONVERSION_LIMIT=500000
# Volatility threshold percentage (triggers manual approval)
VOLATILITY_THRESHOLD=5
# Maximum allowed price slippage percentage
MAX_CONVERSION_SLIPPAGE=2

# ============================================
# TLS/HTTPS ENFORCEMENT
# ============================================
# Force HTTPS in production
FORCE_HTTPS=false
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=false

# ============================================
# SECURITY HEADERS
# ============================================
# Additional security configuration
HELMET_CSP_ENABLED=true
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX=100
AUTH_RATE_LIMIT_MAX=5

# ============================================
# MONITORING AND LOGGING
# ============================================
LOG_LEVEL=info
# In production, send logs to centralized logging service
# Options: error, warn, info, http, verbose, debug
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ============================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================
# Before deploying to production, ensure:
# [ ] All secrets changed from defaults
# [ ] Strong random values for JWT_SECRET and JWT_REFRESH_SECRET
# [ ] CORS configured with specific allowed origins
# [ ] Database authentication and TLS enabled
# [ ] Redis enabled for token revocation
# [ ] Webhook secret generated and configured
# [ ] Field encryption key generated
# [ ] Monitoring and logging configured
# [ ] Secrets management (Vault) enabled
# [ ] Environment set to 'production'
# [ ] All placeholder values replaced
# [ ] Security audit completed
# [ ] Compliance requirements verified
